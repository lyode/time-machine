<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mystical Oracle - Messages from the Universe</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: radial-gradient(ellipse at center, #1a1a2e 0%, #16213e 30%, #0f1419 100%);
            height: 100vh;
            color: white;
            overflow: hidden;
        }

        /* Language Selector - Positioned absolutely at top */
        .language-selector {
            position: fixed;
            top: 10px;
            right: 10px;
            z-index: 3000;
            background: rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(186, 85, 211, 0.2);
            border-radius: 15px;
            padding: 8px;
        }

        .language-btn {
            background: rgba(186, 85, 211, 0.2);
            border: 1px solid rgba(186, 85, 211, 0.5);
            color: #e8e8e8;
            padding: 6px 12px;
            border-radius: 8px;
            font-size: 0.7rem;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 0 3px;
        }

        .language-btn:hover, .language-btn.active {
            background: rgba(186, 85, 211, 0.4);
            border-color: rgba(186, 85, 211, 0.8);
            transform: translateY(-1px);
        }

        /* Main Oracle Container - True Full Screen */
        .oracle-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: radial-gradient(ellipse at center, #1a1a2e 0%, #16213e 30%, #0f1419 100%);
            overflow: hidden;
            z-index: 1000;
        }

        .oracle-background {
            position: absolute;
            width: 100%;
            height: 100%;
            overflow: hidden;
        }

        /* Black Hole Container */
        .black-hole-container {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 80vmin;
            height: 80vmin;
            z-index: 1001;
        }

        .black-hole {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            background: 
                radial-gradient(circle at center, 
                    transparent 25%, 
                    rgba(0, 0, 0, 0.1) 30%, 
                    rgba(0, 0, 0, 0.6) 45%, 
                    rgba(0, 0, 0, 0.9) 55%, 
                    black 65%);
            box-shadow: 
                inset 0 0 50px rgba(186, 85, 211, 0.3),
                inset 0 0 100px rgba(138, 43, 226, 0.2),
                0 0 100px rgba(0, 0, 0, 0.8);
            animation: blackHoleSwirl 8s linear infinite;
            position: relative;
            overflow: hidden;
        }

        .black-hole::before {
            content: '';
            position: absolute;
            top: 5%;
            left: 5%;
            width: 90%;
            height: 90%;
            border-radius: 50%;
            background: radial-gradient(circle, rgba(186, 85, 211, 0.15) 0%, transparent 60%);
            animation: accretionDisk 6s linear infinite reverse;
        }

        @keyframes blackHoleSwirl {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        @keyframes accretionDisk {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        /* Sound Wave Visualization */
        .sound-wave-container {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1002;
        }

        .sound-wave {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            border: 2px solid rgba(186, 85, 211, 0.6);
            border-radius: 50%;
            opacity: 0;
            animation: soundWavePulse 2s ease-out infinite;
            transition: all 0.1s ease-out;
        }

        .sound-wave.active {
            opacity: 1;
        }

        .sound-wave:nth-child(1) {
            width: 50%;
            height: 50%;
            animation-delay: 0s;
            border-color: rgba(186, 85, 211, 0.8);
        }

        .sound-wave:nth-child(2) {
            width: 65%;
            height: 65%;
            animation-delay: 0.15s;
            border-color: rgba(255, 140, 180, 0.7);
        }

        .sound-wave:nth-child(3) {
            width: 80%;
            height: 80%;
            animation-delay: 0.3s;
            border-color: rgba(138, 43, 226, 0.6);
        }

        .sound-wave:nth-child(4) {
            width: 95%;
            height: 95%;
            animation-delay: 0.45s;
            border-color: rgba(74, 144, 226, 0.5);
        }

        @keyframes soundWavePulse {
            0% {
                transform: translate(-50%, -50%) scale(0.7);
                opacity: 0;
                border-width: 3px;
            }
            30% {
                opacity: 0.9;
                border-width: 2px;
            }
            70% {
                opacity: 0.6;
                border-width: 1px;
            }
            100% {
                transform: translate(-50%, -50%) scale(1.3);
                opacity: 0;
                border-width: 1px;
            }
        }

        .mystical-particles {
            position: absolute;
            width: 100%;
            height: 100%;
            pointer-events: none;
        }

        .mystical-particle {
            position: absolute;
            border-radius: 50%;
            animation: mysticalFloat 8s ease-in-out infinite;
            filter: blur(0.5px);
        }

        @keyframes mysticalFloat {
            0%, 100% {
                transform: translateY(100vh) scale(0) rotate(0deg);
                opacity: 0;
            }
            5% {
                opacity: 0.8;
                transform: translateY(95vh) scale(1) rotate(45deg);
            }
            95% {
                opacity: 0.8;
                transform: translateY(-5vh) scale(0.8) rotate(315deg);
            }
            100% {
                transform: translateY(-10vh) scale(0) rotate(360deg);
                opacity: 0;
            }
        }

        .aurora-lights {
            position: absolute;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(ellipse at 15% 60%, rgba(186, 85, 211, 0.25) 0%, transparent 50%),
                radial-gradient(ellipse at 85% 30%, rgba(138, 43, 226, 0.25) 0%, transparent 50%),
                radial-gradient(ellipse at 50% 80%, rgba(147, 112, 219, 0.2) 0%, transparent 50%),
                radial-gradient(ellipse at 30% 20%, rgba(123, 104, 238, 0.15) 0%, transparent 50%);
            animation: auroraShift 15s ease-in-out infinite;
        }

        @keyframes auroraShift {
            0%, 100% { 
                opacity: 0.7; 
                transform: scale(1) rotate(0deg);
                filter: hue-rotate(0deg);
            }
            25% { 
                opacity: 0.9; 
                transform: scale(1.05) rotate(1deg);
                filter: hue-rotate(15deg);
            }
            50% { 
                opacity: 0.5; 
                transform: scale(0.98) rotate(-1deg);
                filter: hue-rotate(30deg);
            }
            75% { 
                opacity: 0.8; 
                transform: scale(1.02) rotate(0.5deg);
                filter: hue-rotate(15deg);
            }
        }

        /* Oracle Landing Screen */
        .oracle-landing {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
            opacity: 1;
            transition: all 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            animation: landingBreathe 6s ease-in-out infinite;
            z-index: 2000;
        }

        .oracle-landing.hidden {
            opacity: 0;
            visibility: hidden;
            transform: translate(-50%, -50%) scale(0.85);
        }

        @keyframes landingBreathe {
            0%, 100% { transform: translate(-50%, -50%) scale(1); }
            50% { transform: translate(-50%, -50%) scale(1.02); }
        }

        .floating-ask {
            position: relative;
            cursor: pointer;
            margin-bottom: 30px;
            animation: gentleFloat 4s ease-in-out infinite;
        }

        .ask-text {
            font-size: 4.5rem;
            font-weight: 300;
            color: #e8e8e8;
            text-shadow: 0 0 30px rgba(186, 85, 211, 0.6);
            letter-spacing: 8px;
            position: relative;
            z-index: 1;
            font-family: 'Georgia', serif;
            font-style: italic;
        }

        .ask-glow {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 200px;
            height: 200px;
            border-radius: 50%;
            animation: pulseGlow 4s ease-in-out infinite, colorShift 8s ease-in-out infinite;
        }

        @keyframes gentleFloat {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-15px); }
        }

        @keyframes pulseGlow {
            0%, 100% { transform: translate(-50%, -50%) scale(1); opacity: 0.6; }
            50% { transform: translate(-50%, -50%) scale(1.3); opacity: 1; }
        }

        @keyframes colorShift {
            0%, 100% { 
                background: radial-gradient(circle, rgba(186, 85, 211, 0.3) 0%, transparent 70%);
            }
            25% { 
                background: radial-gradient(circle, rgba(138, 43, 226, 0.3) 0%, transparent 70%);
            }
            50% { 
                background: radial-gradient(circle, rgba(147, 112, 219, 0.3) 0%, transparent 70%);
            }
            75% { 
                background: radial-gradient(circle, rgba(123, 104, 238, 0.3) 0%, transparent 70%);
            }
        }

        .oracle-subtitle {
            font-size: 1.2rem;
            color: rgba(255, 255, 255, 0.7);
            font-style: italic;
            animation: fadeIn 2s ease-in-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 0.7; }
        }

        /* Floating Words */
        .floating-words-container {
            position: absolute;
            width: 100%;
            height: 100%;
            opacity: 0;
            visibility: hidden;
            transition: all 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            z-index: 2000;
        }

        .floating-words-container.active {
            opacity: 1;
            visibility: visible;
        }

        .floating-words {
            position: relative;
            width: 100%;
            height: 100%;
        }

        .floating-word {
            position: absolute;
            color: #e8e8e8;
            cursor: pointer;
            font-family: 'Georgia', serif;
            font-style: italic;
            text-shadow: 0 0 20px rgba(186, 85, 211, 0.5);
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            animation: wordFloat 8s ease-in-out infinite;
            opacity: 0;
            user-select: none;
            transform-origin: center;
        }

        .floating-word.big {
            font-size: 2.8rem;
            font-weight: 500;
            letter-spacing: 2px;
        }

        .floating-word.medium {
            font-size: 2.1rem;
            font-weight: 400;
            letter-spacing: 1px;
        }

        .floating-word.small {
            font-size: 1.5rem;
            font-weight: 300;
            letter-spacing: 0.5px;
        }

        .floating-word:hover {
            transform: scale(1.3) rotate(1deg);
            text-shadow: 
                0 0 30px rgba(186, 85, 211, 1),
                0 0 60px rgba(186, 85, 211, 0.8),
                0 0 90px rgba(186, 85, 211, 0.6);
            color: #dda0dd;
            animation-play-state: paused;
        }

        .floating-word:active {
            transform: scale(1.1) rotate(-1deg);
            transition: transform 0.1s ease;
        }

        @keyframes wordFloat {
            0% {
                opacity: 0;
                transform: translateY(30px) scale(0.7) rotate(-5deg);
                filter: blur(2px);
            }
            15% {
                opacity: 1;
                transform: translateY(0px) scale(1) rotate(0deg);
                filter: blur(0px);
            }
            85% {
                opacity: 1;
                transform: translateY(-15px) scale(1.05) rotate(2deg);
                filter: blur(0px);
            }
            100% {
                opacity: 0;
                transform: translateY(-40px) scale(0.8) rotate(5deg);
                filter: blur(1px);
            }
        }

        /* Enhanced Message Display */
        .message-container {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 85%;
            max-width: 700px;
            text-align: center;
            opacity: 0;
            visibility: hidden;
            transition: all 1s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            z-index: 2000;
        }

        .message-container.active {
            opacity: 1;
            visibility: visible;
        }

        .bright-message {
            background: 
                radial-gradient(circle at 30% 30%, rgba(186, 85, 211, 0.1) 0%, transparent 50%),
                rgba(255, 255, 255, 0.03);
            border: 2px solid rgba(186, 85, 211, 0.4);
            border-radius: 25px;
            padding: 45px;
            margin-bottom: 35px;
            backdrop-filter: blur(20px);
            animation: messageFloatUp 2s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            position: relative;
            overflow: hidden;
        }

        .bright-message::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(186, 85, 211, 0.1), transparent);
            animation: shimmerMessage 6s ease-in-out infinite;
        }

        .bright-message p {
            font-size: 1.5rem;
            line-height: 2;
            color: #f0f0f0;
            font-family: 'Georgia', serif;
            font-style: italic;
            margin: 0;
            text-shadow: 0 0 20px rgba(186, 85, 211, 0.4);
            position: relative;
            z-index: 1;
            letter-spacing: 0.5px;
        }

        @keyframes messageFloatUp {
            0% {
                opacity: 0;
                transform: translateY(50px) scale(0.85);
                filter: blur(3px);
            }
            50% {
                opacity: 0.8;
                transform: translateY(-5px) scale(1.02);
                filter: blur(1px);
            }
            100% {
                opacity: 1;
                transform: translateY(0) scale(1);
                filter: blur(0px);
            }
        }

        @keyframes shimmerMessage {
            0%, 100% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
            50% { transform: translateX(100%) translateY(100%) rotate(45deg); }
        }

        .message-actions {
            display: flex;
            justify-content: center;
            gap: 25px;
            animation: actionsAppear 2.5s cubic-bezier(0.25, 0.46, 0.45, 0.94) 1s both;
        }

        @keyframes actionsAppear {
            0% {
                opacity: 0;
                transform: translateY(30px) scale(0.8);
            }
            60% {
                opacity: 0.8;
                transform: translateY(-5px) scale(1.05);
            }
            100% {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        .oracle-button {
            background: rgba(186, 85, 211, 0.15);
            border: 2px solid rgba(186, 85, 211, 0.6);
            color: #f0f0f0;
            padding: 18px 35px;
            border-radius: 30px;
            font-size: 1.2rem;
            font-family: 'Georgia', serif;
            font-style: italic;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            backdrop-filter: blur(15px);
            position: relative;
            overflow: hidden;
            letter-spacing: 1px;
            font-weight: 400;
        }

        .oracle-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.6s;
        }

        .oracle-button:hover::before {
            left: 100%;
        }

        .oracle-button:hover {
            background: rgba(186, 85, 211, 0.3);
            border-color: rgba(186, 85, 211, 0.9);
            transform: translateY(-3px) scale(1.05);
            box-shadow: 
                0 15px 35px rgba(186, 85, 211, 0.4),
                0 0 30px rgba(186, 85, 211, 0.3);
            text-shadow: 0 0 15px rgba(186, 85, 211, 0.8);
        }

        .oracle-button:active {
            transform: translateY(-1px) scale(1.02);
            transition: transform 0.1s ease;
        }

        .noted-btn {
            background: rgba(46, 204, 113, 0.15);
            border-color: rgba(46, 204, 113, 0.6);
        }

        .noted-btn:hover {
            background: rgba(46, 204, 113, 0.3);
            border-color: rgba(46, 204, 113, 0.9);
            box-shadow: 
                0 15px 35px rgba(46, 204, 113, 0.4),
                0 0 30px rgba(46, 204, 113, 0.3);
            text-shadow: 0 0 15px rgba(46, 204, 113, 0.8);
        }

        .more-btn {
            background: rgba(241, 196, 15, 0.15);
            border-color: rgba(241, 196, 15, 0.6);
        }

        .more-btn:hover {
            background: rgba(241, 196, 15, 0.3);
            border-color: rgba(241, 196, 15, 0.9);
            box-shadow: 
                0 15px 35px rgba(241, 196, 15, 0.4),
                0 0 30px rgba(241, 196, 15, 0.3);
            text-shadow: 0 0 15px rgba(241, 196, 15, 0.8);
        }

        /* Enhanced Wishes Screen */
        .wishes-container {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 85%;
            max-width: 600px;
            text-align: center;
            opacity: 0;
            visibility: hidden;
            transition: all 1s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            z-index: 2000;
        }

        .wishes-container.active {
            opacity: 1;
            visibility: visible;
        }

        .wishes-message {
            background: 
                radial-gradient(circle at 70% 70%, rgba(46, 204, 113, 0.1) 0%, transparent 50%),
                rgba(255, 255, 255, 0.03);
            border: 2px solid rgba(46, 204, 113, 0.4);
            border-radius: 25px;
            padding: 40px;
            margin-bottom: 35px;
            backdrop-filter: blur(20px);
            animation: wishesFloatUp 2s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            position: relative;
            overflow: hidden;
        }

        .wishes-message::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(46, 204, 113, 0.1), transparent);
            animation: shimmerWish 6s ease-in-out infinite;
        }

        .wishes-message p {
            font-size: 1.3rem;
            line-height: 1.8;
            color: #f0f0f0;
            font-family: 'Georgia', serif;
            font-style: italic;
            margin: 0;
            text-shadow: 0 0 20px rgba(46, 204, 113, 0.4);
            position: relative;
            z-index: 1;
            letter-spacing: 0.5px;
        }

        @keyframes wishesFloatUp {
            0% {
                opacity: 0;
                transform: translateY(40px) scale(0.9);
                filter: blur(2px);
            }
            100% {
                opacity: 1;
                transform: translateY(0) scale(1);
                filter: blur(0px);
            }
        }

        @keyframes shimmerWish {
            0%, 100% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
            50% { transform: translateX(100%) translateY(100%) rotate(45deg); }
        }

        .back-btn {
            background: rgba(186, 85, 211, 0.15);
            border-color: rgba(186, 85, 211, 0.6);
            animation: backBtnAppear 2.5s cubic-bezier(0.25, 0.46, 0.45, 0.94) 1s both;
        }

        @keyframes backBtnAppear {
            0% {
                opacity: 0;
                transform: translateY(25px) scale(0.8);
            }
            60% {
                opacity: 0.8;
                transform: translateY(-3px) scale(1.05);
            }
            100% {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        /* Enhanced Black Hole speaking state */
        .black-hole-container.speaking .black-hole {
            box-shadow: 
                inset 0 0 50px rgba(186, 85, 211, 0.8),
                inset 0 0 100px rgba(138, 43, 226, 0.6),
                0 0 150px rgba(186, 85, 211, 0.4),
                0 0 200px rgba(138, 43, 226, 0.3);
        }

        .black-hole-container.speaking .black-hole::before {
            background: radial-gradient(circle, rgba(186, 85, 211, 0.4) 0%, transparent 60%);
        }

        /* Mobile Responsiveness */
        @media (max-width: 768px) {
            .black-hole-container {
                width: 90vmin;
                height: 90vmin;
            }

            .ask-text {
                font-size: 3.2rem;
                letter-spacing: 3px;
            }

            .floating-word.big {
                font-size: 2.3rem;
                letter-spacing: 1px;
            }

            .floating-word.medium {
                font-size: 1.8rem;
            }

            .floating-word.small {
                font-size: 1.3rem;
            }

            .bright-message,
            .wishes-message {
                padding: 30px 25px;
                margin-bottom: 25px;
            }

            .bright-message p {
                font-size: 1.3rem;
                line-height: 1.7;
            }

            .wishes-message p {
                font-size: 1.1rem;
                line-height: 1.6;
            }

            .oracle-button {
                padding: 15px 28px;
                font-size: 1.1rem;
                letter-spacing: 0.5px;
            }

            .message-container,
            .wishes-container {
                width: 92%;
            }

            .message-actions {
                gap: 15px;
                flex-direction: column;
                align-items: center;
            }

            .oracle-button {
                width: 200px;
            }
        }

        @media (max-width: 480px) {
            .ask-text {
                font-size: 2.8rem;
                letter-spacing: 2px;
            }

            .oracle-subtitle {
                font-size: 1rem;
            }

            .floating-word.big {
                font-size: 2rem;
            }

            .floating-word.medium {
                font-size: 1.6rem;
            }

            .floating-word.small {
                font-size: 1.2rem;
            }

            .bright-message,
            .wishes-message {
                padding: 25px 20px;
            }

            .bright-message p {
                font-size: 1.2rem;
                line-height: 1.6;
            }

            .wishes-message p {
                font-size: 1rem;
                line-height: 1.5;
            }

            .oracle-button {
                padding: 12px 25px;
                font-size: 1rem;
                width: 180px;
            }

            .message-actions {
                gap: 12px;
            }
        }
    </style>
</head>
<body>
    <!-- Language Selector -->
    <div class="language-selector">
        <button class="language-btn active" onclick="switchLanguage('en')">EN</button>
        <button class="language-btn" onclick="switchLanguage('zh')">中文</button>
    </div>

    <!-- Main Oracle Container -->
    <div class="oracle-container">
        <div class="oracle-background">
            <div class="mystical-particles" id="mysticalParticles"></div>
            <div class="aurora-lights"></div>
        </div>
        
        <!-- Black Hole Container -->
        <div class="black-hole-container" id="blackHoleContainer">
            <div class="black-hole">
                <!-- Sound Wave Visualization -->
                <div class="sound-wave-container" id="soundWaveContainer">
                    <div class="sound-wave"></div>
                    <div class="sound-wave"></div>
                    <div class="sound-wave"></div>
                    <div class="sound-wave"></div>
                </div>
            </div>
        </div>
        
        <!-- Landing Screen with 'aSk' -->
        <div class="oracle-landing" id="oracleLanding">
            <div class="floating-ask" id="floatingAsk" onclick="showFloatingWords()">
                <span class="ask-text" data-en="aSk" data-zh="問">aSk</span>
                <div class="ask-glow"></div>
            </div>
            <div class="oracle-subtitle" data-en="What seeks to be known?" data-zh="什麼渴望被知曉？">What seeks to be known?</div>
        </div>
        
        <!-- Floating Words Screen -->
        <div class="floating-words-container" id="floatingWordsContainer">
            <div class="floating-words" id="floatingWords"></div>
        </div>
        
        <!-- Message Display -->
        <div class="message-container" id="messageContainer">
            <div class="bright-message" id="brightMessage"></div>
            <div class="message-actions" id="messageActions">
                <button class="oracle-button noted-btn" onclick="showWishes()" data-en="noTed" data-zh="記下">noTed</button>
                <button class="oracle-button more-btn" onclick="showMoreWords()" data-en="i wAnt moRe" data-zh="我想要更多">i wAnt moRe</button>
            </div>
        </div>
        
        <!-- Wishes Screen -->
        <div class="wishes-container" id="wishesContainer">
            <div class="wishes-message" id="wishesMessage"></div>
            <button class="oracle-button back-btn" onclick="returnToLanding()" data-en="aSk" data-zh="問">aSk</button>
        </div>
    </div>

    <script>
        // Current language and tracking systems
        let currentLanguage = 'en';
        let usedWords = new Set();
        let usedMessages = new Set();
        let usedWishes = new Set();

        // AI-Generated Word Creation System
        const wordPrefixes = {
            en: ['neo', 'echo', 'astra', 'lumi', 'nova', 'zen', 'flux', 'arc', 'void', 'meta', 'sync', 'vibe', 'flow', 'drift', 'pulse'],
            zh: ['靈', '魂', '幻', '夢', '星', '月', '雲', '風', '空', '神', '妙', '禪', '境', '覺', '悟']
        };

        const wordSuffixes = {
            en: ['ance', 'ence', 'ism', 'ity', 'ness', 'ion', 'ment', 'ship', 'ward', 'wise', 'like', 'form', 'way', 'path', 'gate'],
            zh: ['性', '態', '境', '感', '意', '念', '象', '相', '理', '法', '道', '源', '流', '韻', '氣']
        };

        const wordRoots = {
            en: ['lumina', 'spectral', 'ethereal', 'temporal', 'celestial', 'quantum', 'cosmic', 'primal', 'transcend', 'infinite', 'mystic', 'radiant', 'sublime', 'profound', 'sacred'],
            zh: ['靈魂', '神秘', '天象', '時空', '量子', '無限', '永恆', '超越', '深層', '神聖', '純淨', '光明', '智慧', '覺醒', '圓滿']
        };

        // AI Story Templates for Dynamic Message Generation
        const storyTemplates = {
            en: [
                "In the {realm} where {element} {action}, a {entity} discovers that {revelation}... {wisdom} teaches us that {truth}. The {metaphor} reminds you that {personal_insight}.",
                "From the {perspective} of {cosmic_force}, {phenomenon} reveals itself as {meaning}... What appears as {illusion} is actually {reality}. Your {quality} holds the key to {unlock}.",
                "Between the {boundary_1} and {boundary_2}, {discovery} unfolds like {simile}... The {teacher} knows that {lesson}. When {condition}, {transformation} becomes possible.",
                "Through the lens of {viewpoint}, {subject} transforms into {new_form}... {ancient_wisdom} whispers that {secret}. The art of {skill} lies in understanding {principle}.",
                "In the dance between {force_1} and {force_2}, {creation} emerges with {quality}... {observer} watches as {process} reveals {hidden_truth}. Your journey toward {destination} begins with {first_step}."
            ],
            zh: [
                "在{境界}中，{元素}{動作}時，{存在}發現{啟示}... {智慧}教導我們{真理}。{比喻}提醒你{個人洞察}。",
                "從{宇宙力量}的{視角}，{現象}顯現為{意義}... 看似{幻象}的實際上是{實相}。你的{品質}擁有{解鎖}的鑰匙。",
                "在{邊界一}與{邊界二}之間，{發現}如{比擬}般展開... {導師}知道{課程}。當{條件}時，{轉化}成為可能。",
                "透過{觀點}的鏡頭，{主體}轉化為{新形式}... {古老智慧}低語著{秘密}。{技能}的藝術在於理解{原則}。",
                "在{力量一}與{力量二}的舞蹈中，{創造}以{品質}出現... {觀察者}看著{過程}揭示{隱藏真理}。你通往{目的地}的旅程始於{第一步}。"
            ]
        };

        // Dynamic content pools for story generation
        const storyElements = {
            en: {
                realm: ['dimension', 'void', 'cosmos', 'infinity', 'consciousness', 'dreamscape', 'quantum field', 'astral plane'],
                element: ['light', 'shadow', 'energy', 'time', 'space', 'vibration', 'frequency', 'essence'],
                action: ['dances', 'flows', 'pulses', 'resonates', 'transforms', 'awakens', 'merges', 'ascends'],
                entity: ['seeker', 'wanderer', 'soul', 'consciousness', 'spirit', 'being', 'traveler', 'observer'],
                revelation: ['truth transcends perception', 'reality is layered infinitely', 'connection binds all existence', 'change is the only constant'],
                wisdom: ['Ancient knowledge', 'The universe', 'Cosmic intelligence', 'Sacred geometry', 'The eternal flow'],
                truth: ['everything is interconnected', 'timing reveals purpose', 'growth requires surrender', 'clarity emerges from stillness'],
                metaphor: ['spiral of existence', 'mirror of consciousness', 'river of time', 'web of destiny', 'garden of possibilities'],
                personal_insight: ['your path is uniquely yours', 'inner wisdom never lies', 'transformation awaits your permission', 'the answer lives within you']
            },
            zh: {
                境界: ['維度', '虛空', '宇宙', '無限', '意識', '夢境', '量子場', '星光界'],
                元素: ['光', '影', '能量', '時間', '空間', '振動', '頻率', '本質'],
                動作: ['舞動', '流動', '脈動', '共鳴', '轉化', '覺醒', '融合', '昇華'],
                存在: ['求道者', '漫遊者', '靈魂', '意識', '精神', '存在', '旅行者', '觀察者'],
                啟示: ['真理超越知覺', '實相是無限層次的', '連結綁定所有存在', '變化是唯一的常數'],
                智慧: ['古老知識', '宇宙', '宇宙智慧', '神聖幾何', '永恆之流'],
                真理: ['一切都是互聯的', '時機揭示目的', '成長需要臣服', '清晰從寧靜中顯現'],
                比喻: ['存在的螺旋', '意識的鏡子', '時間之河', '命運之網', '可能性花園'],
                個人洞察: ['你的道路是獨一無二的', '內在智慧永不說謊', '轉化等待你的許可', '答案就在你心中']
            }
        };

        // Greetings without the removed phrase
        const oracleGreetings = {
            en: [
                "What seeks to be known?",
                "Ancient wisdom awaits your touch...",
                "The universe has been expecting you...",
                "Your soul's inquiry echoes through eternity...",
                "What mystery calls to your heart?"
            ],
            zh: [
                "什麼渴望被知曉？",
                "古老的智慧等待你的觸碰...",
                "宇宙一直在等待你...",
                "你靈魂的詢問在永恆中回響...",
                "什麼奧秘在呼喚你的心？"
            ]
        };

        // Language switching function
        function switchLanguage(lang) {
            currentLanguage = lang;
            
            // Update language buttons
            document.querySelectorAll('.language-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            // Update text content
            document.querySelectorAll('[data-en]').forEach(element => {
                const key = lang === 'en' ? 'data-en' : 'data-zh';
                element.textContent = element.getAttribute(key);
            });
            
            // Set new random greeting
            setRandomGreeting();
        }

        function setRandomGreeting() {
            const subtitle = document.querySelector('.oracle-subtitle');
            if (subtitle) {
                const greetings = oracleGreetings[currentLanguage];
                const randomGreeting = greetings[Math.floor(Math.random() * greetings.length)];
                subtitle.textContent = randomGreeting;
            }
        }

        // AI Word Generation
        function generateUniqueWord() {
            const lang = currentLanguage;
            let attempts = 0;
            let word;
            
            do {
                const type = Math.random();
                
                if (type < 0.4) {
                    // Prefix + Root combination
                    const prefix = wordPrefixes[lang][Math.floor(Math.random() * wordPrefixes[lang].length)];
                    const root = wordRoots[lang][Math.floor(Math.random() * wordRoots[lang].length)];
                    word = lang === 'en' ? prefix + root.toLowerCase() : prefix + root;
                } else if (type < 0.7) {
                    // Root + Suffix combination
                    const root = wordRoots[lang][Math.floor(Math.random() * wordRoots[lang].length)];
                    const suffix = wordSuffixes[lang][Math.floor(Math.random() * wordSuffixes[lang].length)];
                    word = lang === 'en' ? root.toLowerCase() + suffix : root + suffix;
                } else {
                    // Pure root words with variations
                    const root = wordRoots[lang][Math.floor(Math.random() * wordRoots[lang].length)];
                    word = root;
                }
                
                attempts++;
            } while (usedWords.has(word) && attempts < 50);
            
            usedWords.add(word);
            return word;
        }

        // AI Message Generation
        function generateDynamicMessage(word) {
            const lang = currentLanguage;
            let attempts = 0;
            let message;
            
            do {
                const template = storyTemplates[lang][Math.floor(Math.random() * storyTemplates[lang].length)];
                const elements = storyElements[lang];
                
                message = template.replace(/\{(\w+)\}/g, (match, key) => {
                    if (elements[key]) {
                        return elements[key][Math.floor(Math.random() * elements[key].length)];
                    }
                    return match;
                });
                
                // Add word-specific personalization
                const personalizations = {
                    en: [
                        ` The essence of "${word}" vibrates through this revelation.`,
                        ` Your connection to "${word}" illuminates the path forward.`,
                        ` In choosing "${word}", you have unlocked a cosmic gateway.`,
                        ` The universe speaks through "${word}" at this precise moment.`
                    ],
                    zh: [
                        ` "${word}"的本質在這個啟示中振動。`,
                        ` 你與"${word}"的連結照亮了前進的道路。`,
                        ` 在選擇"${word}"時，你已解鎖了一個宇宙門戶。`,
                        ` 宇宙在這個精確時刻通過"${word}"說話。`
                    ]
                };
                
                const personalization = personalizations[lang][Math.floor(Math.random() * personalizations[lang].length)];
                message += personalization;
                
                attempts++;
            } while (usedMessages.has(message) && attempts < 20);
            
            usedMessages.add(message);
            return message;
        }

        // AI Wish Generation
        function generateDynamicWish() {
            const lang = currentLanguage;
            let attempts = 0;
            let wish;
            
            do {
                const wishTemplates = {
                    en: [
                        "May the {cosmic_force} of {quality} flow through your {path}, bringing {blessing} to every {moment} you encounter...",
                        "In the {dimension} of {possibility}, may your {essence} find {harmony} with the {universal_principle} that guides all {creation}...",
                        "Let the {energy} of {transformation} awaken the {dormant_power} within, as {cosmic_alignment} opens doorways to {infinite_potential}...",
                        "Through the {mystery} of {existence}, may {divine_grace} illuminate your {journey} with {celestial_light} and {sacred_wisdom}...",
                        "As {time} and {space} dance around your {consciousness}, may {synchronicity} weave {golden_threads} through the tapestry of your {destiny}..."
                    ],
                    zh: [
                        "願{宇宙力量}的{品質}流過你的{道路}，為你遇到的每個{時刻}帶來{祝福}...",
                        "在{可能性}的{維度}中，願你的{本質}與指導所有{創造}的{宇宙原則}找到{和諧}...",
                        "讓{轉化}的{能量}喚醒內在的{潛在力量}，當{宇宙對齊}打開通往{無限潛能}的門戶...",
                        "通過{存在}的{奧秘}，願{神聖恩典}以{天體之光}和{神聖智慧}照亮你的{旅程}...",
                        "當{時間}和{空間}圍繞你的{意識}舞蹈時，願{同步性}在你{命運}的織錦中編織{金線}..."
                    ]
                };
                
                const wishElements = {
                    en: {
                        cosmic_force: ['stellar energy', 'quantum field', 'celestial current', 'universal flow', 'ethereal stream'],
                        quality: ['love', 'wisdom', 'clarity', 'strength', 'peace', 'abundance', 'joy', 'balance'],
                        path: ['journey', 'quest', 'adventure', 'pilgrimage', 'odyssey', 'voyage', 'expedition'],
                        blessing: ['miracles', 'grace', 'wonder', 'magic', 'serenity', 'fulfillment', 'awakening'],
                        moment: ['breath', 'heartbeat', 'sunrise', 'encounter', 'discovery', 'realization', 'touch'],
                        dimension: ['realm', 'sphere', 'plane', 'field', 'matrix', 'web', 'tapestry'],
                        possibility: ['dreams', 'visions', 'potential', 'hope', 'manifestation', 'creation', 'becoming'],
                        essence: ['soul', 'spirit', 'consciousness', 'being', 'heart', 'core', 'truth'],
                        harmony: ['resonance', 'alignment', 'unity', 'balance', 'symphony', 'confluence', 'merger'],
                        universal_principle: ['cosmic law', 'divine order', 'sacred geometry', 'eternal rhythm', 'natural flow'],
                        creation: ['existence', 'life', 'reality', 'manifestation', 'beauty', 'wonder', 'cosmos'],
                        energy: ['vibration', 'frequency', 'current', 'pulse', 'wave', 'emanation', 'radiance'],
                        transformation: ['evolution', 'metamorphosis', 'awakening', 'rebirth', 'renewal', 'alchemy', 'transcendence'],
                        dormant_power: ['hidden strength', 'inner fire', 'latent magic', 'sleeping giant', 'untapped potential'],
                        cosmic_alignment: ['stellar convergence', 'universal synchrony', 'celestial harmony', 'quantum entanglement'],
                        infinite_potential: ['boundless possibility', 'limitless creation', 'endless becoming', 'eternal growth'],
                        mystery: ['enigma', 'secret', 'riddle', 'paradox', 'wonder', 'miracle', 'magic'],
                        existence: ['being', 'life', 'reality', 'presence', 'consciousness', 'experience', 'journey'],
                        divine_grace: ['cosmic blessing', 'universal love', 'celestial favor', 'sacred gift', 'heavenly touch'],
                        journey: ['path', 'quest', 'adventure', 'pilgrimage', 'voyage', 'expedition', 'odyssey'],
                        celestial_light: ['starfire', 'moonbeam', 'cosmic radiance', 'stellar brilliance', 'divine illumination'],
                        sacred_wisdom: ['ancient knowledge', 'eternal truth', 'divine insight', 'cosmic understanding', 'spiritual clarity'],
                        time: ['eternity', 'infinity', 'the eternal now', 'cosmic rhythm', 'universal pulse'],
                        space: ['the void', 'infinity', 'the cosmos', 'universal expanse', 'celestial dance'],
                        consciousness: ['awareness', 'mind', 'spirit', 'being', 'essence', 'soul', 'presence'],
                        synchronicity: ['meaningful coincidence', 'cosmic timing', 'universal orchestration', 'divine providence'],
                        golden_threads: ['luminous connections', 'sacred bonds', 'cosmic filaments', 'ethereal links'],
                        destiny: ['fate', 'purpose', 'calling', 'mission', 'path', 'future', 'becoming']
                    },
                    zh: {
                        宇宙力量: ['星體能量', '量子場', '天體流', '宇宙之流', '以太流'],
                        品質: ['愛', '智慧', '清晰', '力量', '和平', '豐盛', '喜悅', '平衡'],
                        道路: ['旅程', '探索', '冒險', '朝聖', '奧德賽', '航行', '遠征'],
                        祝福: ['奇蹟', '恩典', '奇觀', '魔法', '寧靜', '圓滿', '覺醒'],
                        時刻: ['呼吸', '心跳', '日出', '相遇', '發現', '領悟', '觸碰'],
                        維度: ['境界', '領域', '層面', '場域', '矩陣', '網絡', '織錦'],
                        可能性: ['夢想', '願景', '潛能', '希望', '顯化', '創造', '成為'],
                        本質: ['靈魂', '精神', '意識', '存在', '心', '核心', '真理'],
                        和諧: ['共鳴', '對齊', '統一', '平衡', '交響', '匯流', '融合'],
                        宇宙原則: ['宇宙法則', '神聖秩序', '神聖幾何', '永恆節奏', '自然之流'],
                        創造: ['存在', '生命', '實相', '顯化', '美', '奇觀', '宇宙'],
                        能量: ['振動', '頻率', '流', '脈動', '波', '散發', '光芒'],
                        轉化: ['進化', '變形', '覺醒', '重生', '更新', '煉金', '超越'],
                        潛在力量: ['隱藏力量', '內在之火', '潛在魔法', '沉睡巨人', '未開發潛能'],
                        宇宙對齊: ['星體匯聚', '宇宙同步', '天體和諧', '量子糾纏'],
                        無限潛能: ['無邊可能', '無限創造', '無盡成為', '永恆成長'],
                        奧秘: ['謎', '秘密', '謎題', '悖論', '奇觀', '奇蹟', '魔法'],
                        存在: ['存在', '生命', '實相', '臨在', '意識', '體驗', '旅程'],
                        神聖恩典: ['宇宙祝福', '宇宙愛', '天體恩寵', '神聖禮物', '天堂觸碰'],
                        旅程: ['道路', '探索', '冒險', '朝聖', '航行', '遠征', '奧德賽'],
                        天體之光: ['星火', '月光', '宇宙光輝', '星體光輝', '神聖照明'],
                        神聖智慧: ['古老知識', '永恆真理', '神聖洞察', '宇宙理解', '靈性清晰'],
                        時間: ['永恆', '無限', '永恆的現在', '宇宙節奏', '宇宙脈動'],
                        空間: ['虛空', '無限', '宇宙', '宇宙廣袤', '天體舞蹈'],
                        意識: ['覺知', '心', '精神', '存在', '本質', '靈魂', '臨在'],
                        同步性: ['有意義的巧合', '宇宙時機', '宇宙編排', '神聖天意'],
                        金線: ['光明連結', '神聖紐帶', '宇宙絲線', '以太連結'],
                        命運: ['命運', '目的', '召喚', '使命', '道路', '未來', '成為']
                    }
                };
                
                const template = wishTemplates[lang][Math.floor(Math.random() * wishTemplates[lang].length)];
                const elements = wishElements[lang];
                
                wish = template.replace(/\{(\w+)\}/g, (match, key) => {
                    if (elements[key]) {
                        return elements[key][Math.floor(Math.random() * elements[key].length)];
                    }
                    return match;
                });
                
                attempts++;
            } while (usedWishes.has(wish) && attempts < 20);
            
            usedWishes.add(wish);
            return wish;
        }

        // Initialize Oracle on page load
        document.addEventListener('DOMContentLoaded', function() {
            generateEnhancedMysticalParticles();
            activateBlackHoleEffects();
            setRandomGreeting();
        });

        function generateEnhancedMysticalParticles() {
            const container = document.getElementById('mysticalParticles');
            if (!container) return;
            
            container.innerHTML = '';
            
            const particleCount = 20;
            
            for (let i = 0; i < particleCount; i++) {
                const particle = document.createElement('div');
                particle.classList.add('mystical-particle');
                
                // Random size between 2px and 10px
                const size = 2 + Math.random() * 8;
                particle.style.width = size + 'px';
                particle.style.height = size + 'px';
                
                // Random colors in mystical spectrum
                const colors = [
                    'rgba(186, 85, 211, 0.8)',
                    'rgba(138, 43, 226, 0.7)',
                    'rgba(147, 112, 219, 0.6)',
                    'rgba(123, 104, 238, 0.8)',
                    'rgba(221, 160, 221, 0.7)'
                ];
                const randomColor = colors[Math.floor(Math.random() * colors.length)];
                particle.style.background = `radial-gradient(circle, ${randomColor} 0%, transparent 70%)`;
                
                // Random horizontal position
                particle.style.left = Math.random() * 100 + '%';
                
                // Random animation delay and duration
                particle.style.animationDelay = Math.random() * 12 + 's';
                particle.style.animationDuration = (8 + Math.random() * 6) + 's';
                
                container.appendChild(particle);
            }
        }

        function activateBlackHoleEffects() {
            // Activate sound waves periodically
            setInterval(() => {
                const soundWaves = document.querySelectorAll('.sound-wave');
                const blackHoleContainer = document.getElementById('blackHoleContainer');
                
                if (Math.random() > 0.7) {
                    soundWaves.forEach(wave => wave.classList.add('active'));
                    blackHoleContainer.classList.add('speaking');
                    
                    setTimeout(() => {
                        soundWaves.forEach(wave => wave.classList.remove('active'));
                        blackHoleContainer.classList.remove('speaking');
                    }, 2000);
                }
            }, 3000);
        }

        function resetOracleScreens() {
            document.getElementById('oracleLanding').classList.remove('hidden');
            document.getElementById('floatingWordsContainer').classList.remove('active');
            document.getElementById('messageContainer').classList.remove('active');
            document.getElementById('wishesContainer').classList.remove('active');
        }

        function showFloatingWords() {
            // Activate black hole effect
            const blackHoleContainer = document.getElementById('blackHoleContainer');
            const soundWaves = document.querySelectorAll('.sound-wave');
            
            soundWaves.forEach(wave => wave.classList.add('active'));
            blackHoleContainer.classList.add('speaking');
            
            // Hide landing screen with enhanced transition
            const landing = document.getElementById('oracleLanding');
            landing.style.transform = 'translate(-50%, -50%) scale(0.8)';
            landing.style.opacity = '0';
            
            setTimeout(() => {
                landing.classList.add('hidden');
                landing.style.transform = 'translate(-50%, -50%) scale(1)';
                landing.style.opacity = '1';
            }, 500);
            
            // Show floating words after transition
            setTimeout(() => {
                const container = document.getElementById('floatingWordsContainer');
                const wordsContainer = document.getElementById('floatingWords');
                
                container.classList.add('active');
                
                // Clear any existing words
                wordsContainer.innerHTML = '';
                
                // Generate 10-14 unique AI words
                const wordCount = 10 + Math.floor(Math.random() * 5);
                
                // Create floating word elements with enhanced positioning
                for (let i = 0; i < wordCount; i++) {
                    const word = generateUniqueWord();
                    const wordElement = document.createElement('div');
                    wordElement.classList.add('floating-word');
                    
                    // More balanced size distribution
                    const sizeRandom = Math.random();
                    if (sizeRandom < 0.3) {
                        wordElement.classList.add('big');
                    } else if (sizeRandom < 0.7) {
                        wordElement.classList.add('medium');
                    } else {
                        wordElement.classList.add('small');
                    }
                    
                    wordElement.textContent = word;
                    wordElement.onclick = () => showBrightMessage(word);
                    
                    // Better distribution algorithm to avoid overlapping
                    const angle = (i / wordCount) * 2 * Math.PI;
                    const radiusX = 25 + Math.random() * 20;
                    const radiusY = 20 + Math.random() * 15;
                    const centerX = 50;
                    const centerY = 45;
                    
                    const x = centerX + radiusX * Math.cos(angle) + (Math.random() - 0.5) * 10;
                    const y = centerY + radiusY * Math.sin(angle) + (Math.random() - 0.5) * 10;
                    
                    wordElement.style.left = Math.max(5, Math.min(90, x)) + '%';
                    wordElement.style.top = Math.max(10, Math.min(80, y)) + '%';
                    
                    // Staggered animation with more variety
                    wordElement.style.animationDelay = (i * 0.2 + Math.random() * 0.3) + 's';
                    wordElement.style.animationDuration = (6 + Math.random() * 4) + 's';
                    
                    wordsContainer.appendChild(wordElement);
                }
                
                // Deactivate black hole after words appear
                setTimeout(() => {
                    soundWaves.forEach(wave => wave.classList.remove('active'));
                    blackHoleContainer.classList.remove('speaking');
                }, 2000);
            }, 600);
        }

        function showBrightMessage(word) {
            // Activate black hole effect
            const blackHoleContainer = document.getElementById('blackHoleContainer');
            const soundWaves = document.querySelectorAll('.sound-wave');
            
            soundWaves.forEach(wave => wave.classList.add('active'));
            blackHoleContainer.classList.add('speaking');
            
            // Hide floating words with fade effect
            const wordsContainer = document.getElementById('floatingWordsContainer');
            wordsContainer.style.opacity = '0';
            
            setTimeout(() => {
                wordsContainer.classList.remove('active');
                wordsContainer.style.opacity = '1';
            }, 400);
            
            // Show message after transition
            setTimeout(() => {
                const messageContainer = document.getElementById('messageContainer');
                const messageElement = document.getElementById('brightMessage');
                
                messageContainer.classList.add('active');
                
                // Generate AI message
                const message = generateDynamicMessage(word);
                
                // Add typing effect to message
                typeMessage(messageElement, message);
                
                // Deactivate black hole after message appears
                setTimeout(() => {
                    soundWaves.forEach(wave => wave.classList.remove('active'));
                    blackHoleContainer.classList.remove('speaking');
                }, 3000);
                
            }, 600);
        }

        function typeMessage(element, message) {
            element.innerHTML = '<p></p>';
            const paragraph = element.querySelector('p');
            let index = 0;
            
            function typeCharacter() {
                if (index < message.length) {
                    paragraph.textContent += message.charAt(index);
                    index++;
                    
                    // Variable typing speed for more natural effect
                    const delay = message.charAt(index - 1) === '.' ? 300 : 
                                 message.charAt(index - 1) === ',' ? 150 : 
                                 Math.random() * 50 + 20;
                    
                    setTimeout(typeCharacter, delay);
                }
            }
            
            typeCharacter();
        }

        function showWishes() {
            // Activate black hole effect
            const blackHoleContainer = document.getElementById('blackHoleContainer');
            const soundWaves = document.querySelectorAll('.sound-wave');
            
            soundWaves.forEach(wave => wave.classList.add('active'));
            blackHoleContainer.classList.add('speaking');
            
            // Hide message container
            document.getElementById('messageContainer').classList.remove('active');
            
            // Show wishes after transition
            setTimeout(() => {
                const wishesContainer = document.getElementById('wishesContainer');
                const wishesElement = document.getElementById('wishesMessage');
                
                wishesContainer.classList.add('active');
                
                // Generate AI wish
                const wish = generateDynamicWish();
                
                // Add gentle typing effect to wishes too
                typeMessage(wishesElement, wish);
                
                // Deactivate black hole after wishes appear
                setTimeout(() => {
                    soundWaves.forEach(wave => wave.classList.remove('active'));
                    blackHoleContainer.classList.remove('speaking');
                }, 3000);
                
            }, 500);
        }

        function showMoreWords() {
            // Hide message container
            document.getElementById('messageContainer').classList.remove('active');
            
            // Show new floating words after transition
            setTimeout(() => {
                showFloatingWords();
            }, 500);
        }

        function returnToLanding() {
            // Hide wishes container
            document.getElementById('wishesContainer').classList.remove('active');
            
            // Show landing screen after transition with new greeting
            setTimeout(() => {
                setRandomGreeting();
                resetOracleScreens();
            }, 500);
        }
    </script>
</body>
</html>
